import uvicorn
from fastapi import FastAPI
from fastapi.middleware.cors import CORSMiddleware
from pydantic import BaseModel
from typing import List

app = FastAPI(debug=True)

origins = [
    "http://127.0.0.1:5173",
    "http://localhost:5173",
]

app.add_middleware(
    CORSMiddleware,
    allow_origins=origins,
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"],
)

class WhiteboardStroke(BaseModel):
    stroke_id: str
    color: str
    points: List[List[float]]

class WhiteboardState(BaseModel):
    version: int
    strokes: List[WhiteboardStroke]

@app.get("/whiteboardState", response_model=WhiteboardState)
def get_whiteboard_state():
    return WhiteboardState(version=1.00, strokes=[
        WhiteboardStroke(
            stroke_id="stroke-38",
            color="#e246d5",
            points=[
                [
                254.8249969482422,
                200.4375
                ],
                [
                256.8249969482422,
                201.4375
                ],
                [
                258.8249969482422,
                202.4375
                ],
                [
                261.8249969482422,
                203.4375
                ],
                [
                268.8249969482422,
                205.4375
                ],
                [
                273.8249969482422,
                205.4375
                ],
                [
                278.8249969482422,
                203.4375
                ],
                [
                282.8249969482422,
                198.4375
                ],
                [
                285.8249969482422,
                192.4375
                ],
                [
                286.8249969482422,
                187.4375
                ],
                [
                288.8249969482422,
                183.4375
                ],
                [
                288.8249969482422,
                177.4375
                ],
                [
                288.8249969482422,
                172.4375
                ],
                [
                287.8249969482422,
                171.4375
                ],
                [
                286.8249969482422,
                168.4375
                ],
                [
                285.8249969482422,
                168.4375
                ],
                [
                285.8249969482422,
                168.4375
                ],
                [
                283.8249969482422,
                167.4375
                ],
                [
                280.8249969482422,
                167.4375
                ],
                [
                277.8249969482422,
                167.4375
                ],
                [
                272.8249969482422,
                167.4375
                ],
                [
                269.8249969482422,
                167.4375
                ],
                [
                266.8249969482422,
                167.4375
                ],
                [
                263.8249969482422,
                167.4375
                ],
                [
                259.8249969482422,
                169.4375
                ],
                [
                256.8249969482422,
                171.4375
                ],
                [
                253.8249969482422,
                173.4375
                ],
                [
                251.8249969482422,
                175.4375
                ],
                [
                249.8249969482422,
                175.4375
                ],
                [
                249.8249969482422,
                177.4375
                ],
                [
                249.8249969482422,
                178.4375
                ],
                [
                248.8249969482422,
                179.4375
                ],
                [
                248.8249969482422,
                181.4375
                ],
                [
                248.8249969482422,
                182.4375
                ],
                [
                248.8249969482422,
                183.4375
                ],
                [
                248.8249969482422,
                184.4375
                ],
                [
                248.8249969482422,
                185.4375
                ],
                [
                248.8249969482422,
                187.4375
                ],
                [
                249.8249969482422,
                188.4375
                ],
                [
                249.8249969482422,
                189.4375
                ],
                [
                249.8249969482422,
                191.4375
                ],
                [
                250.8249969482422,
                192.4375
                ],
                [
                251.8249969482422,
                194.4375
                ],
                [
                252.8249969482422,
                195.4375
                ],
                [
                252.8249969482422,
                196.4375
                ],
                [
                253.8249969482422,
                197.4375
                ],
                [
                253.8249969482422,
                198.4375
                ],
                [
                253.8249969482422,
                198.4375
                ],
                [
                254.8249969482422,
                198.4375
                ]
            ]),
        WhiteboardStroke(
        stroke_id="stroke-39",
        color="#e246d5",
        points=[
            [
            352.8249969482422,
            166.4375
            ],
            [
            352.8249969482422,
            165.4375
            ],
            [
            351.8249969482422,
            165.4375
            ],
            [
            349.8249969482422,
            165.4375
            ],
            [
            348.8249969482422,
            165.4375
            ],
            [
            345.8249969482422,
            165.4375
            ],
            [
            341.8249969482422,
            166.4375
            ],
            [
            339.8249969482422,
            167.4375
            ],
            [
            336.8249969482422,
            169.4375
            ],
            [
            332.8249969482422,
            171.4375
            ],
            [
            330.8249969482422,
            173.4375
            ],
            [
            329.8249969482422,
            175.4375
            ],
            [
            327.8249969482422,
            178.4375
            ],
            [
            326.8249969482422,
            180.4375
            ],
            [
            325.8249969482422,
            182.4375
            ],
            [
            325.8249969482422,
            184.4375
            ],
            [
            325.8249969482422,
            186.4375
            ],
            [
            325.8249969482422,
            188.4375
            ],
            [
            325.8249969482422,
            190.4375
            ],
            [
            326.8249969482422,
            191.4375
            ],
            [
            328.8249969482422,
            191.4375
            ],
            [
            330.8249969482422,
            194.4375
            ],
            [
            333.8249969482422,
            195.4375
            ],
            [
            337.8249969482422,
            196.4375
            ],
            [
            341.8249969482422,
            197.4375
            ],
            [
            346.8249969482422,
            197.4375
            ],
            [
            350.8249969482422,
            197.4375
            ],
            [
            354.8249969482422,
            196.4375
            ],
            [
            357.8249969482422,
            195.4375
            ],
            [
            358.8249969482422,
            192.4375
            ],
            [
            361.8249969482422,
            188.4375
            ],
            [
            361.8249969482422,
            184.4375
            ],
            [
            362.8249969482422,
            180.4375
            ],
            [
            362.8249969482422,
            177.4375
            ],
            [
            362.8249969482422,
            174.4375
            ],
            [
            362.8249969482422,
            171.4375
            ],
            [
            362.8249969482422,
            168.4375
            ],
            [
            361.8249969482422,
            167.4375
            ],
            [
            360.8249969482422,
            164.4375
            ],
            [
            359.8249969482422,
            163.4375
            ],
            [
            359.8249969482422,
            163.4375
            ],
            [
            357.8249969482422,
            162.4375
            ]
        ]),
    WhiteboardStroke(
      stroke_id="stroke-40",
      color="#e246d5",
      points=[
        [
          223.8249969482422,
          233.4375
        ],
        [
          224.8249969482422,
          234.4375
        ],
        [
          225.8249969482422,
          235.4375
        ],
        [
          226.8249969482422,
          239.4375
        ],
        [
          229.8249969482422,
          245.4375
        ],
        [
          232.8249969482422,
          251.4375
        ],
        [
          236.8249969482422,
          259.4375
        ],
        [
          241.8249969482422,
          267.4375
        ],
        [
          248.8249969482422,
          275.4375
        ],
        [
          257.8249969482422,
          284.4375
        ],
        [
          269.8249969482422,
          293.4375
        ],
        [
          281.8249969482422,
          299.4375
        ],
        [
          293.8249969482422,
          304.4375
        ],
        [
          306.8249969482422,
          308.4375
        ],
        [
          317.8249969482422,
          311.4375
        ],
        [
          327.8249969482422,
          311.4375
        ],
        [
          336.8249969482422,
          311.4375
        ],
        [
          344.8249969482422,
          308.4375
        ],
        [
          353.8249969482422,
          304.4375
        ],
        [
          361.8249969482422,
          296.4375
        ],
        [
          369.8249969482422,
          288.4375
        ],
        [
          376.8249969482422,
          279.4375
        ],
        [
          381.8249969482422,
          271.4375
        ],
        [
          387.8249969482422,
          263.4375
        ],
        [
          392.8249969482422,
          256.4375
        ],
        [
          396.8249969482422,
          249.4375
        ],
        [
          399.8249969482422,
          243.4375
        ],
        [
          401.8249969482422,
          236.4375
        ],
        [
          403.8249969482422,
          229.4375
        ],
        [
          404.8249969482422,
          224.4375
        ],
        [
          406.8249969482422,
          219.4375
        ],
        [
          407.8249969482422,
          217.4375
        ],
        [
          408.8249969482422,
          215.4375
        ],
        [
          408.8249969482422,
          215.4375
        ]
      ]),
    WhiteboardStroke(
      stroke_id="stroke-41",
      color="#e246d5",
      points=[
        [
          212.8249969482422,
          110.4375
        ],
        [
          212.8249969482422,
          112.4375
        ],
        [
          212.8249969482422,
          113.4375
        ],
        [
          212.8249969482422,
          114.4375
        ],
        [
          213.8249969482422,
          114.4375
        ],
        [
          217.8249969482422,
          110.4375
        ],
        [
          223.8249969482422,
          104.4375
        ],
        [
          228.8249969482422,
          101.4375
        ],
        [
          229.8249969482422,
          100.4375
        ],
        [
          230.8249969482422,
          104.4375
        ],
        [
          231.8249969482422,
          110.4375
        ],
        [
          233.8249969482422,
          115.4375
        ],
        [
          234.8249969482422,
          118.4375
        ],
        [
          236.8249969482422,
          118.4375
        ],
        [
          241.8249969482422,
          114.4375
        ],
        [
          248.8249969482422,
          109.4375
        ],
        [
          253.8249969482422,
          105.4375
        ],
        [
          257.8249969482422,
          104.4375
        ],
        [
          257.8249969482422,
          105.4375
        ],
        [
          260.8249969482422,
          110.4375
        ],
        [
          262.8249969482422,
          117.4375
        ],
        [
          265.8249969482422,
          122.4375
        ],
        [
          268.8249969482422,
          123.4375
        ],
        [
          270.8249969482422,
          123.4375
        ],
        [
          276.8249969482422,
          119.4375
        ],
        [
          283.8249969482422,
          112.4375
        ],
        [
          289.8249969482422,
          108.4375
        ],
        [
          294.8249969482422,
          105.4375
        ],
        [
          296.8249969482422,
          105.4375
        ],
        [
          297.8249969482422,
          109.4375
        ],
        [
          299.8249969482422,
          113.4375
        ],
        [
          301.8249969482422,
          117.4375
        ],
        [
          304.8249969482422,
          119.4375
        ],
        [
          306.8249969482422,
          119.4375
        ],
        [
          310.8249969482422,
          116.4375
        ],
        [
          314.8249969482422,
          111.4375
        ],
        [
          321.8249969482422,
          107.4375
        ],
        [
          327.8249969482422,
          103.4375
        ],
        [
          329.8249969482422,
          103.4375
        ],
        [
          330.8249969482422,
          103.4375
        ],
        [
          331.8249969482422,
          105.4375
        ],
        [
          332.8249969482422,
          109.4375
        ],
        [
          333.8249969482422,
          111.4375
        ],
        [
          333.8249969482422,
          111.4375
        ],
        [
          336.8249969482422,
          110.4375
        ],
        [
          338.8249969482422,
          105.4375
        ],
        [
          344.8249969482422,
          99.4375
        ],
        [
          347.8249969482422,
          95.4375
        ],
        [
          348.8249969482422,
          94.4375
        ],
        [
          349.8249969482422,
          94.4375
        ],
        [
          350.8249969482422,
          95.4375
        ],
        [
          353.8249969482422,
          98.4375
        ],
        [
          355.8249969482422,
          100.4375
        ],
        [
          357.8249969482422,
          101.4375
        ],
        [
          360.8249969482422,
          101.4375
        ],
        [
          364.8249969482422,
          97.4375
        ],
        [
          368.8249969482422,
          93.4375
        ],
        [
          373.8249969482422,
          90.4375
        ],
        [
          376.8249969482422,
          88.4375
        ],
        [
          377.8249969482422,
          88.4375
        ],
        [
          378.8249969482422,
          88.4375
        ],
        [
          381.8249969482422,
          90.4375
        ],
        [
          385.8249969482422,
          93.4375
        ],
        [
          390.8249969482422,
          93.4375
        ],
        [
          393.8249969482422,
          94.4375
        ],
        [
          395.8249969482422,
          93.4375
        ],
        [
          397.8249969482422,
          91.4375
        ],
        [
          399.8249969482422,
          90.4375
        ],
        [
          400.8249969482422,
          89.4375
        ],
        [
          401.8249969482422,
          89.4375
        ],
        [
          402.8249969482422,
          91.4375
        ],
        [
          404.8249969482422,
          92.4375
        ],
        [
          405.8249969482422,
          92.4375
        ],
        [
          406.8249969482422,
          91.4375
        ],
        [
          409.8249969482422,
          89.4375
        ],
        [
          409.8249969482422,
          88.4375
        ]
      ])])


if __name__ == "__main__":
    uvicorn.run(app, host="0.0.0.0", port=8000)
